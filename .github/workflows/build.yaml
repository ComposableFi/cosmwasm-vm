name: "Build & Tests & Clippy & Fmt"
on:
  push:
jobs:
  build-tests-clippy-fmt:
    runs-on:
      - ubuntu-latest
    container:
      image: niteo/nixpkgs-nixos-22.05:316b762afdb9e142a803f29c49a88b4a47db80ee
    steps:
      - uses: actions/checkout@v3
      - run: |
          echo "experimental-features = nix-command flakes" > /etc/nix/nix.conf
      - run: |
          nix flake check -L
